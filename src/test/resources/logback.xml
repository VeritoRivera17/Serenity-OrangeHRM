<?xml version="1.0" encoding="UTF-8"?>
<configuration scan="true">

    <!-- ===========================================
         ðŸ“ RUTA Y NOMBRE DE LOS LOGS
         =========================================== -->
    <property name="LOG_DIR" value="target/logs"/>
    <property name="LOG_FILE" value="${LOG_DIR}/serenity.log"/>

    <!-- ===========================================
         ðŸ§© FORMATO DE SALIDA
         =========================================== -->
    <encoder name="STDOUT_ENCODER" class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
        <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
    </encoder>

    <encoder name="FILE_ENCODER" class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
        <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
    </encoder>

    <!-- ===========================================
         ðŸ–¥ï¸ CONSOLA (para ver logs en tiempo real)
         =========================================== -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder ref="STDOUT_ENCODER"/>
    </appender>

    <!-- ===========================================
         ðŸ“œ ARCHIVO DE LOG CON ROTACIÃ“N DIARIA
         =========================================== -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_FILE}</file>
        <encoder ref="FILE_ENCODER"/>

        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!-- ðŸ—“ï¸ Genera un nuevo archivo por dÃ­a -->
            <fileNamePattern>${LOG_DIR}/serenity-%d{yyyy-MM-dd}.log</fileNamePattern>
            <!-- â™»ï¸ MantÃ©n los Ãºltimos 7 dÃ­as -->
            <maxHistory>7</maxHistory>
        </rollingPolicy>
    </appender>

    <!-- ===========================================
         ðŸ§  NIVELES DE LOG PERSONALIZADOS
         =========================================== -->

    <!-- Serenity BDD -->
    <logger name="net.serenitybdd" level="INFO"/>

    <!-- Selenium WebDriver -->
    <logger name="org.openqa.selenium" level="WARN"/>

    <!-- JUnit -->
    <logger name="org.junit" level="WARN"/>

    <!-- Apache HTTP -->
    <logger name="org.apache.http" level="ERROR"/>

    <!-- Base de datos o librerÃ­as adicionales -->
    <logger name="org.hibernate" level="ERROR"/>

    <!-- Tu propio cÃ³digo -->
    <logger name="com.ejemplo" level="DEBUG"/>

    <!-- ===========================================
         ðŸš€ ROOT LOGGER
         =========================================== -->
    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
    </root>

</configuration>
